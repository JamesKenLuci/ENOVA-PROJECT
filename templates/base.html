<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Enova{% endblock %}</title>

    <!-- Load Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <!-- Load the stylesheet from the static folder -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <!-- Load Font Awesome for icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <!-- START: Global Background Styling -->
    <style>
        /*
        Sets the user's background.png as a fixed, cover background for the entire page.
        */
        body {
            background-image: url('{{ url_for('static', filename='image/background.png') }}');
            background-size: cover;
            background-attachment: fixed; /* Ensures background doesn't scroll with content */
            background-position: center;
            background-repeat: no-repeat;
            background-color: #121212; /* Fallback color for dark aesthetic */
        }

        /* Apply a semi-transparent dark overlay to the header, main, and footer
        containers to ensure all content is readable against the image background.
        Using rgba(0, 0, 0, 0.7) makes the content area dark but lets the image show through.
        */
        header, main, footer {
            background-color: rgba(0, 0, 0, 0.7);
            /* Optional: Add backdrop-filter for a "frosted glass" effect on supported browsers */
            backdrop-filter: blur(3px);
        }

        /* Ensure the main content area inside the navigation container uses a transparent background
           so the body background is visible. This might need adjustments based on 'style.css'. */
        .main-content {
            background-color: transparent;
        }

    </style>
    <!-- END: Global Background Styling -->

</head>
<body>
    <header>
        <div class="nav-container">

            <div class="logo-area">
                <!-- Logo reference using Flask's url_for -->
                <img src="{{ url_for('static', filename='image/logo.png') }}" alt="Enova Hiraya Logo" class="website-logo">
                <a href="{{ url_for('index') }}" class="logo-text">Enova Hiraya</a>
            </div>

            <!-- Removed the redundant <img> tag for the background here -->

            <!-- Main Navigation Links -->
            <nav class="main-nav">
                <ul class="nav-links">
                    <li><a href="{{ url_for('index') }}">Home</a></li>
                    <li><a href="{{ url_for('services') }}">Services</a></li>
                    <li><a href="{{ url_for('gallery') }}">Gallery</a></li>
                    <li><a href="{{ url_for('packages') }}">Packages</a></li>
                    <li><a href="{{ url_for('contact') }}">Contact</a></li>
                </ul>
            </nav>


            <div class="user-info">
                {% if current_user.is_authenticated %}
                    Welcome, James Ken (Role: USER)
                    <a href="{{ url_for('logout') }}" class="btn-link">LOGOUT</a>
                {% else %}
                    <a href="{{ url_for('login') }}">Login</a> | <a href="{{ url_for('register') }}">Register</a>
                {% endif %}
            </div>
        </div>
    </header>

    <!-- Top Green Separator Line -->
    <div class="green-border-row"></div>

    <main class="main-content">
        <div class="nav-container">
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul class="flashes">
                        {% for category, message in messages %}
                            <li class="{{ category }}">{{ message }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}

            <!-- Content Block -->
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- Bottom Green Separator Line -->
    <div class="green-border-row"></div>

    <!-- Basic Footer -->
    <footer>
        <div class="nav-container" style="text-align: center; font-size: 0.8rem; padding: 10px 0;">
            Our Specialized Services
        </div>
    </footer>
</body>
</html>