{% extends "base.html" %}
{% block content %}

<h1 class="page-title">
    {% if task %}
        Edit Task
    {% else %}
        Add Task
    {% endif %}
</h1>

<div class="glass form-box">

<form method="POST">

    <!-- Title -->
    <label>Title</label>
    <input
        type="text"
        name="title"
        value="{{ task.title if task else '' }}"
        required
    >

    <!-- Subject -->
    <label>Subject</label>
    <input
        type="text"
        name="subject"
        value="{{ task.subject if task else '' }}"
    >

    <!-- Description -->
    <label>Description</label>
    <textarea name="description">{{ task.description if task else '' }}</textarea>

    <!-- Due Date -->
    <label>Due Date</label>
    <input
        type="date"
        name="due_date"
        value="{{ task.due_date.strftime('%Y-%m-%d') if task and task.due_date else '' }}"
    >

    <!-- Priority -->
    <label>Priority</label>
    <select name="priority">
        <option value="High"   {% if task and task.priority == 'High' %}selected{% endif %}>High</option>
        <option value="Medium" {% if task and task.priority == 'Medium' %}selected{% endif %}>Medium</option>
        <option value="Low"    {% if task and task.priority == 'Low' %}selected{% endif %}>Low</option>
    </select>

    <!-- Completed (only in edit mode) -->
    {% if task %}
    <label>
        <input type="checkbox" name="completed"
               {% if task.completed %} checked {% endif %}>
        âœ” Mark as Completed
    </label>
    {% endif %}

    <button type="submit">
        {% if task %}
            Update Task
        {% else %}
            Add Task
        {% endif %}
    </button>

</form>

</div>

{% endblock %}
