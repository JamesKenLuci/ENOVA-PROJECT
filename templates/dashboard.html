{% extends 'base.html' %}
{% block content %}
<h1>Dashboard</h1>

<section class="stats">
  <div class="card">Total Tasks<br><strong>{{ total }}</strong></div>
  <div class="card">Done Tasks<br><strong>{{ done }}</strong></div>
  <div class="card">Overdue<br><strong>{{ overdue }}</strong></div>
</section>

<section class="pane">
  <h2>Upcoming Deadlines</h2>
  <ul>
    {% for t in upcoming %}
      <li>{{ t.due_date.strftime('%Y-%m-%d %H:%M') if t.due_date else 'No date' }} — {{ t.title }}</li>
    {% else %}
      <li>No upcoming deadlines.</li>
    {% endfor %}
  </ul>
</section>

<section class="pane">
  <h2>Not Yet Done Tasks</h2>
  <ul>
    {% for t in not_done %}
      <li>{{ t.title }} — {{ t.subject or 'General' }} — {{ t.priority }}</li>
    {% else %}
      <li>No pending tasks.</li>
    {% endfor %}
  </ul>
</section>

{% endblock %}